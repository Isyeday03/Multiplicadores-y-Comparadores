<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Multiplicador Binario 2√ó2 bits</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        .header {
            text-align: center;
            color: white;
            margin-bottom: 30px;
            padding: 30px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }

        .header p {
            font-size: 1.1em;
            opacity: 0.9;
        }

        .card {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 20px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }

        .card h2 {
            color: #667eea;
            margin-bottom: 20px;
            font-size: 1.8em;
            border-bottom: 3px solid #667eea;
            padding-bottom: 10px;
        }

        .inputs-section {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 30px;
        }

        .input-group {
            text-align: center;
        }

        .input-group h3 {
            color: #333;
            margin-bottom: 15px;
            font-size: 1.3em;
        }

        .bit-display {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .bit-button {
            width: 80px;
            height: 80px;
            font-size: 2em;
            font-weight: bold;
            border: none;
            border-radius: 15px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
        }

        .bit-button.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            transform: scale(1.1);
        }

        .bit-button.inactive {
            background: #e0e0e0;
            color: #666;
        }

        .bit-button:hover {
            transform: scale(1.15);
        }

        .bit-label {
            font-size: 0.9em;
            color: #666;
            margin-top: 5px;
        }

        .decimal-value {
            font-size: 1.2em;
            color: #667eea;
            font-weight: bold;
            margin-top: 10px;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }

        .product-box {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .product-box h4 {
            margin-bottom: 10px;
            font-size: 0.9em;
        }

        .product-box .formula {
            font-size: 0.85em;
            opacity: 0.9;
            margin-bottom: 8px;
        }

        .product-box .result {
            font-size: 2em;
            font-weight: bold;
        }

        .multiplication-diagram {
            font-family: 'Courier New', monospace;
            background: #f8f9fa;
            padding: 30px;
            border-radius: 10px;
            text-align: center;
            font-size: 1.3em;
            line-height: 1.8;
            margin: 20px 0;
            border: 2px solid #667eea;
        }

        .multiplication-diagram .highlight {
            color: #667eea;
            font-weight: bold;
        }

        .multiplication-diagram .result-line {
            color: #f5576c;
            font-weight: bold;
            font-size: 1.2em;
        }

        .adder-section {
            background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
            padding: 20px;
            border-radius: 12px;
            margin: 15px 0;
        }

        .adder-section h4 {
            color: #333;
            margin-bottom: 15px;
        }

        .adder-box {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1);
        }

        .adder-operation {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            font-size: 1.1em;
            margin: 10px 0;
        }

        .result-final {
            background: linear-gradient(135deg, #11998e 0%, #38ef7d 100%);
            color: white;
            padding: 40px;
            text-align: center;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }

        .result-final h2 {
            color: white;
            border: none;
            margin-bottom: 20px;
        }

        .result-bits {
            font-size: 4em;
            font-weight: bold;
            letter-spacing: 15px;
            margin: 20px 0;
            text-shadow: 3px 3px 6px rgba(0, 0, 0, 0.3);
        }

        .result-decimal {
            font-size: 2em;
            margin-top: 15px;
        }

        .components-list {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 5px solid #667eea;
        }

        .components-list ul {
            list-style: none;
            padding-left: 0;
        }

        .components-list li {
            padding: 10px 0;
            font-size: 1.1em;
            color: #333;
        }

        .components-list li:before {
            content: "‚úì ";
            color: #38ef7d;
            font-weight: bold;
            margin-right: 10px;
        }

        @media (max-width: 768px) {
            .inputs-section {
                grid-template-columns: 1fr;
            }

            .header h1 {
                font-size: 1.8em;
            }

            .bit-button {
                width: 60px;
                height: 60px;
                font-size: 1.5em;
            }

            .result-bits {
                font-size: 2.5em;
                letter-spacing: 8px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üî¢ Multiplicador Binario 2√ó2 bits</h1>
            <p>Simulaci√≥n de circuito digital con compuertas AND y Half Adders</p>
        </div>

        <!-- SECCI√ìN DE ENTRADAS -->
        <div class="card">
            <h2>‚ö° Entradas (Click para cambiar)</h2>
            <div class="inputs-section">
                <div class="input-group">
                    <h3>Multiplicando A</h3>
                    <div class="bit-display">
                        <div>
                            <button class="bit-button" id="a1" onclick="toggleBit('a1')">0</button>
                            <div class="bit-label">A‚ÇÅ</div>
                        </div>
                        <div>
                            <button class="bit-button" id="a0" onclick="toggleBit('a0')">0</button>
                            <div class="bit-label">A‚ÇÄ</div>
                        </div>
                    </div>
                    <div class="decimal-value">Decimal: <span id="valueA">0</span></div>
                </div>

                <div class="input-group">
                    <h3>Multiplicador B</h3>
                    <div class="bit-display">
                        <div>
                            <button class="bit-button" id="b1" onclick="toggleBit('b1')">0</button>
                            <div class="bit-label">B‚ÇÅ</div>
                        </div>
                        <div>
                            <button class="bit-button" id="b0" onclick="toggleBit('b0')">0</button>
                            <div class="bit-label">B‚ÇÄ</div>
                        </div>
                    </div>
                    <div class="decimal-value">Decimal: <span id="valueB">0</span></div>
                </div>
            </div>
        </div>

        <!-- PRODUCTOS PARCIALES -->
        <div class="card">
            <h2>üîß Paso 1: Productos Parciales (Compuertas AND)</h2>
            <div class="products-grid">
                <div class="product-box">
                    <h4>P‚ÇÄ‚ÇÄ</h4>
                    <div class="formula">A‚ÇÄ AND B‚ÇÄ</div>
                    <div class="result" id="p00">0</div>
                </div>
                <div class="product-box">
                    <h4>P‚ÇÄ‚ÇÅ</h4>
                    <div class="formula">A‚ÇÅ AND B‚ÇÄ</div>
                    <div class="result" id="p01">0</div>
                </div>
                <div class="product-box">
                    <h4>P‚ÇÅ‚ÇÄ</h4>
                    <div class="formula">A‚ÇÄ AND B‚ÇÅ</div>
                    <div class="result" id="p10">0</div>
                </div>
                <div class="product-box">
                    <h4>P‚ÇÅ‚ÇÅ</h4>
                    <div class="formula">A‚ÇÅ AND B‚ÇÅ</div>
                    <div class="result" id="p11">0</div>
                </div>
            </div>
        </div>

        <!-- DIAGRAMA DE MULTIPLICACI√ìN -->
        <div class="card">
            <h2>üìä Paso 2: Alineaci√≥n de Productos Parciales</h2>
            <div class="multiplication-diagram" id="diagram">
                <div>Multiplicaci√≥n binaria:</div>
                <div class="highlight" id="lineA">      0 0</div>
                <div class="highlight" id="lineB">    √ó 0 0</div>
                <div>    ‚îÄ‚îÄ‚îÄ‚îÄ</div>
                <div id="line1">     0 0  ‚Üê A √ó B‚ÇÄ</div>
                <div id="line2">   0 0    ‚Üê A √ó B‚ÇÅ (shift)</div>
                <div>    ‚îÄ‚îÄ‚îÄ‚îÄ</div>
                <div class="result-line" id="lineResult">   0 0 0 0</div>
            </div>
        </div>

        <!-- SUMADORES -->
        <div class="card">
            <h2>‚ûï Paso 3: Suma con Half Adders</h2>
            
            <div class="adder-section">
                <h4>Half Adder 1 (Bit P‚ÇÅ)</h4>
                <div class="adder-box">
                    <div class="adder-operation">
                        <span>P‚ÇÄ‚ÇÅ (<span id="ha1-input1">0</span>) + P‚ÇÅ‚ÇÄ (<span id="ha1-input2">0</span>)</span>
                        <span>‚Üí</span>
                        <span>Suma: <strong id="p1-result">0</strong></span>
                        <span>Acarreo C‚ÇÅ: <strong id="c1-result">0</strong></span>
                    </div>
                </div>
            </div>

            <div class="adder-section">
                <h4>Half Adder 2 (Bit P‚ÇÇ)</h4>
                <div class="adder-box">
                    <div class="adder-operation">
                        <span>P‚ÇÅ‚ÇÅ (<span id="ha2-input1">0</span>) + C‚ÇÅ (<span id="ha2-input2">0</span>)</span>
                        <span>‚Üí</span>
                        <span>Suma: <strong id="p2-result">0</strong></span>
                        <span>Acarreo P‚ÇÉ: <strong id="p3-result">0</strong></span>
                    </div>
                </div>
            </div>
        </div>

        <!-- RESULTADO FINAL -->
        <div class="card result-final">
            <h2>üéØ Resultado Final</h2>
            <div class="result-bits" id="finalResult">0 0 0 0</div>
            <div class="result-decimal">
                <span id="valueA2">0</span> √ó <span id="valueB2">0</span> = <span id="finalDecimal">0</span>
            </div>
            <div style="margin-top: 15px; font-size: 1.2em;">
                Binario: <span id="finalBinary">0000</span>‚ÇÇ = Decimal: <span id="finalDecimal2">0</span>‚ÇÅ‚ÇÄ
            </div>
        </div>

        <!-- COMPONENTES -->
        <div class="card">
            <h2>üî© Componentes del Circuito</h2>
            <div class="components-list">
                <ul>
                    <li>4 Compuertas AND (productos parciales)</li>
                    <li>2 Half Adders (HA) para las sumas</li>
                    <li>Entradas: 4 bits (A‚ÇÅA‚ÇÄ, B‚ÇÅB‚ÇÄ)</li>
                    <li>Salidas: 4 bits (P‚ÇÉP‚ÇÇP‚ÇÅP‚ÇÄ)</li>
                </ul>
            </div>
        </div>
    </div>

    <script>
        // Estado de los bits
        let bits = {
            a1: 0, a0: 0,
            b1: 0, b0: 0
        };

        // Compuerta AND
        function andGate(a, b) {
            return a & b;
        }

        // Half Adder
        function halfAdder(a, b) {
            return {
                sum: a ^ b,
                carry: a & b
            };
        }

        // Toggle bit
        function toggleBit(bitId) {
            bits[bitId] = bits[bitId] === 0 ? 1 : 0;
            const btn = document.getElementById(bitId);
            btn.textContent = bits[bitId];
            btn.className = bits[bitId] === 1 ? 'bit-button active' : 'bit-button inactive';
            calculate();
        }

        // Calcular multiplicaci√≥n
        function calculate() {
            const { a1, a0, b1, b0 } = bits;

            // Valores decimales
            const valueA = a1 * 2 + a0;
            const valueB = b1 * 2 + b0;
            document.getElementById('valueA').textContent = valueA;
            document.getElementById('valueB').textContent = valueB;
            document.getElementById('valueA2').textContent = valueA;
            document.getElementById('valueB2').textContent = valueB;

            // Productos parciales
            const p00 = andGate(a0, b0);
            const p01 = andGate(a1, b0);
            const p10 = andGate(a0, b1);
            const p11 = andGate(a1, b1);

            document.getElementById('p00').textContent = p00;
            document.getElementById('p01').textContent = p01;
            document.getElementById('p10').textContent = p10;
            document.getElementById('p11').textContent = p11;

            // Bit P0
            const p0 = p00;

            // Half Adder 1
            const ha1 = halfAdder(p01, p10);
            const p1 = ha1.sum;
            const c1 = ha1.carry;

            document.getElementById('ha1-input1').textContent = p01;
            document.getElementById('ha1-input2').textContent = p10;
            document.getElementById('p1-result').textContent = p1;
            document.getElementById('c1-result').textContent = c1;

            // Half Adder 2
            const ha2 = halfAdder(p11, c1);
            const p2 = ha2.sum;
            const p3 = ha2.carry;

            document.getElementById('ha2-input1').textContent = p11;
            document.getElementById('ha2-input2').textContent = c1;
            document.getElementById('p2-result').textContent = p2;
            document.getElementById('p3-result').textContent = p3;

            // Resultado final
            const resultado = p3 * 8 + p2 * 4 + p1 * 2 + p0;
            document.getElementById('finalResult').textContent = `${p3} ${p2} ${p1} ${p0}`;
            document.getElementById('finalDecimal').textContent = resultado;
            document.getElementById('finalDecimal2').textContent = resultado;
            document.getElementById('finalBinary').textContent = `${p3}${p2}${p1}${p0}`;

            // Actualizar diagrama
            document.getElementById('lineA').textContent = `      ${a1} ${a0}`;
            document.getElementById('lineB').textContent = `    √ó ${b1} ${b0}`;
            document.getElementById('line1').textContent = `     ${p01} ${p00}  ‚Üê A √ó B‚ÇÄ`;
            document.getElementById('line2').textContent = `   ${p11} ${p10}    ‚Üê A √ó B‚ÇÅ (shift)`;
            document.getElementById('lineResult').textContent = `   ${p3} ${p2} ${p1} ${p0}`;
        }

        // Inicializar
        calculate();
    </script>
</body>
</html>
